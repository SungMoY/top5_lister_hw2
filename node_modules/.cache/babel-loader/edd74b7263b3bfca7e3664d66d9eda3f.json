{"ast":null,"code":"export default class DBManager {\n  constructor() {\n    this.queryGetSessionData = () => {\n      let sessionDataString = localStorage.getItem(\"top5-data\");\n      return JSON.parse(sessionDataString);\n    };\n\n    this.queryIsList = key => {\n      let list = localStorage.getItem(\"top5-list-\" + key);\n      return list != null;\n    };\n\n    this.queryGetList = key => {\n      let listString = localStorage.getItem(\"top5-list-\" + key);\n      return JSON.parse(listString);\n    };\n\n    this.mutationCreateList = list => {\n      this.mutationUpdateList(list);\n    };\n\n    this.mutationUpdateList = list => {\n      // AND FLOW THOSE CHANGES TO LOCAL STORAGE\n      let listString = JSON.stringify(list);\n      localStorage.setItem(\"top5-list-\" + list.key, listString);\n    };\n\n    this.mutationUpdateSessionData = sessionData => {\n      let sessionDataString = JSON.stringify(sessionData);\n      localStorage.setItem(\"top5-data\", sessionDataString);\n    };\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Sung Mo Yang/Desktop/top5_lister_hw2/src/db/DBManager.js"],"names":["DBManager","queryGetSessionData","sessionDataString","localStorage","getItem","JSON","parse","queryIsList","key","list","queryGetList","listString","mutationCreateList","mutationUpdateList","stringify","setItem","mutationUpdateSessionData","sessionData"],"mappings":"AAAA,eAAe,MAAMA,SAAN,CAAgB;AAAA;AAAA,SAI3BC,mBAJ2B,GAIL,MAAM;AACxB,UAAIC,iBAAiB,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAxB;AACA,aAAOC,IAAI,CAACC,KAAL,CAAWJ,iBAAX,CAAP;AACH,KAP0B;;AAAA,SAS3BK,WAT2B,GASZC,GAAD,IAAS;AACnB,UAAIC,IAAI,GAAGN,YAAY,CAACC,OAAb,CAAqB,eAAeI,GAApC,CAAX;AACA,aAAOC,IAAI,IAAI,IAAf;AACH,KAZ0B;;AAAA,SAkB3BC,YAlB2B,GAkBXF,GAAD,IAAS;AACpB,UAAIG,UAAU,GAAGR,YAAY,CAACC,OAAb,CAAqB,eAAeI,GAApC,CAAjB;AACA,aAAOH,IAAI,CAACC,KAAL,CAAWK,UAAX,CAAP;AACH,KArB0B;;AAAA,SAuB3BC,kBAvB2B,GAuBLH,IAAD,IAAU;AAC3B,WAAKI,kBAAL,CAAwBJ,IAAxB;AACH,KAzB0B;;AAAA,SA2B3BI,kBA3B2B,GA2BLJ,IAAD,IAAU;AAC3B;AACA,UAAIE,UAAU,GAAGN,IAAI,CAACS,SAAL,CAAeL,IAAf,CAAjB;AACAN,MAAAA,YAAY,CAACY,OAAb,CAAqB,eAAeN,IAAI,CAACD,GAAzC,EAA8CG,UAA9C;AACH,KA/B0B;;AAAA,SAiC3BK,yBAjC2B,GAiCEC,WAAD,IAAiB;AACzC,UAAIf,iBAAiB,GAAGG,IAAI,CAACS,SAAL,CAAeG,WAAf,CAAxB;AACAd,MAAAA,YAAY,CAACY,OAAb,CAAqB,WAArB,EAAkCb,iBAAlC;AACH,KApC0B;AAAA;;AAAA","sourcesContent":["export default class DBManager {\r\n    // QUERY AND MUTATION FUNCTIONS GET/SET DATA FROM/TO\r\n    // AN EXTERNAL SOURCE, WHICH FOR THIS APPLICATION\r\n    // MEANS THE BROWSER'S LOCAL STORAGE\r\n    queryGetSessionData = () => {\r\n        let sessionDataString = localStorage.getItem(\"top5-data\");\r\n        return JSON.parse(sessionDataString);\r\n    }\r\n\r\n    queryIsList = (key) => {\r\n        let list = localStorage.getItem(\"top5-list-\" + key);\r\n        return list != null;\r\n    }\r\n\r\n    /**\r\n     * This query asks local storage for a list with a particular key,\r\n     * which is then returned by this function.\r\n     */\r\n    queryGetList = (key) => {\r\n        let listString = localStorage.getItem(\"top5-list-\" + key);\r\n        return JSON.parse(listString);\r\n    }\r\n\r\n    mutationCreateList = (list) => {\r\n        this.mutationUpdateList(list);\r\n    }\r\n\r\n    mutationUpdateList = (list) => {\r\n        // AND FLOW THOSE CHANGES TO LOCAL STORAGE\r\n        let listString = JSON.stringify(list);\r\n        localStorage.setItem(\"top5-list-\" + list.key, listString);\r\n    }\r\n    \r\n    mutationUpdateSessionData = (sessionData) => {\r\n        let sessionDataString = JSON.stringify(sessionData);\r\n        localStorage.setItem(\"top5-data\", sessionDataString);\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}